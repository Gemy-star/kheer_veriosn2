{% extends 'main.html' %}
{% load static %}
{% block title %} خير السعودية{% endblock title %}


{% block content %}
    <div class="ftco-blocks-cover-1">
        <div id="carouselExampleIndicators" class="carousel slide my-carousel my-carousel" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="circle black-dot active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1" class="circle blue-dot"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2" class="circle green-dot"></li>
            </ol>
            <div class="carousel-inner" role="listbox">
                <div class="carousel-item active" style="background-image: url('../../../static/images/h1_hero.png')">
                    <div class="carousel-caption d-none d-md-block text-lay-image">
                        <h2 class="body-font text-green">منصة الخير </h2>
                        <h5 class="body-font text-black">صممت لتيسير الخير لفاعل الخير ليكون ضمن </h5>
                        <p class="body-font text-black" style="font-weight: bold;"> دائره تكافليه موثوقه
                        <p class="body-font text-green" style="font-weight: bold;">,مستمره و ممتده</p>  </p>
                    </div>
                </div>
                <div class="carousel-item " style="background-image: url('../../../static/images/login.png')">
                    <div class="carousel-caption d-none d-md-block  text-lay-image">
                        <h2 class="body-font text-blue" style="font-weight: bold;">منصة الخير </h2>
                        <h5 class="body-font text-black" style="font-weight: bold;">صممت لتيسير الخير لفاعل الخير ليكون
                            ضمن </h5>
                        <p class="body-font text-black" style="font-weight: bold;"> دائره تكافليه موثوقه
                        <p class="body-font text-green" style="font-weight: bold;">,مستمره و ممتده</p>  </p>
                    </div>
                </div>
                <div class="carousel-item " style="background-image: url('../../../static/images/kid_transparent.png')">
                    <div class="carousel-caption d-none d-md-block text-lay-image">
                        <h2 class="body-font text-blue" style="font-weight: bold;">منصة الخير </h2>
                        <h5 class="body-font text-black" style="font-weight: bold;">صممت لتيسير الخير لفاعل الخير ليكون
                            ضمن </h5>
                        <p class="body-font text-black" style="font-weight: bold;"> دائره تكافليه موثوقه
                        <p class="body-font text-green" style="font-weight: bold;">,مستمره و ممتده</p>
                    </div>

            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="fa fa-chevron-left" style="color: black;" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="fa fa-chevron-right" style="color: black;" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
         </div>
            </div>
        </div>
    </div>
        <div class="site-section bg-home">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <center><h3 class="body-font text-green"> رسالة خير</h3></center>
                    <p class="body-font text-black">السعى لتمكين و تفعيل التكافل الأجتماعى باستخدام التقنيات الحديثه
                        للربط بين الكيانات المقتدره من المؤسسات و الأفراد و المستفيدات من الجمعيات الخيريه الرسميه فى
                        المملكه العربيه السعوديه</p>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src="{% static 'images/Photos-16.png' %}" alt="Card image cap">
                        <div class="card-body">
                            <a class="btn btn-primary btn-lg btn-block body-font" style="background-color: #1d5987;" href="{% url 'enable-list' %}">عن تمكين الخير</a>
                        </div>
                    </div>

                </div>
                <div class="col-6">
                    <div class="card" style="width: 18rem;">
                        <div class="card-body">
                            <a class="btn btn-teal btn-lg btn-block body-font" href="{% url 'enable-list' %}">عن تكافل الخير</a>
                        </div>
                        <img class="card-img-top" src="{% static 'images/Photos-17.png' %}" alt="Card image cap">

                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="site-section bg-home">
        <div class="container">


            <div class="row">
                <div class="col-12">
                    <div class="justify-content-center">
                        <center><a href="#" class="body-font text-black"> الحالات</a></center>
                        <hr/>
                    </div>
                </div>
            </div>
            <div class="row">
                {% for case in cases %}
                    <div class="col-lg-4">
                        <div class="image-flip" ontouchstart="this.classList.toggle('hover');">
                            <div class="mainflip">
                                <div class="frontside">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            {% if case.case_type == 1 %}
                                                <p><img width="70" height="70"
                                                        src="{% static 'images/electricty.png' %}" alt="card image"></p>
                                                <h4 class="card-title body-font">دعم الكهرباء</h4>
                                                <p class="card-text body-font">لتقديم الدعم للحالات التى تريد دعم فى
                                                    الكهرباء</p>
                                            {% endif %}
                                            {% if case.case_type == 2 %}
                                                <p><img src="{% static 'images/food.png' %}" alt="card image"></p>
                                                <h4 class="card-title body-font">دعم الغذاء</h4>
                                                <p class="card-text body-font">لتقديم الدعم للحالات التى تريد دعم فى
                                                    الطعام</p>
                                            {% endif %}
                                            {% if case.case_type == 3 %}
                                                <p><img src="{% static 'images/education.png' %}" alt="card image"></p>
                                                <h4 class="card-title body-font">دعم التعليم</h4>
                                                <p class="card-text">لتقديم الدعم للحالات التى تريد دعم فى التعليم</p>
                                            {% endif %}
                                            {% if case.case_type == 4 %}
                                                <p><img src="{% static 'images/education.png' %}" alt="card image"></p>
                                                <h4 class="card-title body-font">دعم الماء</h4>
                                                <p class="card-text body-font">لتقديم الدعم للحالات التى تريد دعم فى
                                                    الماء</p>
                                            {% endif %}
                                            {% if case.case_type == 5 %}
                                                <p><img src="{% static 'images/money.png' %}" alt="card image"></p>
                                                <h4 class="card-title body-font">دعم الملبس</h4>
                                                <p class="card-text body-font">لتقديم الدعم للحالات التى تريد دعم فى
                                                    الملبس</p>
                                            {% endif %}
                                             <a href="{% url "payment" case.pk  %}" class="btn btn-teal btn-sm body-font">
                                                تقديم الدعم</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="backside">
                                    <div class="card">
                                        <div class="card-body text-center mt-4">
                                            <h4 class="card-title body-font">{{ case.case.name }}</h4>
                                            <h5 class="body-font text-black"><i class="fa fa-money fa-lg text-black"
                                                                                aria-hidden="true"></i>
                                                {{ case.case.amount }}</h5>
                                            <p class="card-text body-font">{{ case.details }}</p>
                                             <a href="{% url "payment" case.pk  %}" class="btn btn-teal btn-sm body-font">
                                                تقديم الدعم</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class="site-section bg-market">
        <div class="container">
            <div class="row justify-content-center text-center mb-5 section-2-title">
                <div class="col-md-6">
                    <span class="text-cursive h5 text-red body-font">مساحه للإعلانات</span>
                    <h3 class="text-white text-center body-font text-black">الأعلانات</h3>
                </div>
            </div>
            <div class="row align-items-stretch">

                <div class="MultiCarousel" data-items="1,3,5,6" data-slide="1" id="MultiCarousel" data-interval="1000">
                    <div class="MultiCarousel-inner">
                        <div class="item">
                                <img src="{% static 'images/e3lan4.png' %}" width="100" height="100"/>
                        </div>
                        <div class="item">
                                <img src="{% static 'images/e3lan3.png' %}" width="100" height="100"/>

                        </div>
                        <div class="item">
                                <img src="{% static 'images/e3lan2.png' %}" width="100" height="100"/>

                        </div>
                        <div class="item">
                                <img src="{% static 'images/e3lan1.png' %}" width="100" height="100"/>

                        </div>

                    </div>
                    <button class="btn btn-teal rightLst"><</button>
                    <button class="btn btn-teal leftLst">></button>
                </div>


            </div>
        </div>
    </div>
    <div class="row mt-5 justify-content-center">

        <div class="col-md-8">


            <div class="row">
                <div class="col-lg-3 text-center">
                    <span class="text-teal h2 d-block">3423</span>
                    <span class="body-font">متبرع</span>
                    <img alt="img" width="30" height="30" src="{% static 'images/helper.png' %}"/>
                </div>
                <div class="col-lg-3 text-center">
                    <span class="text-yellow h2 d-block">4398</span>
                    <span class="body-font"> مستفيد</span>
                    <img alt="img" width="30" height="30" src="{% static 'images/case.png' %}"/>
                </div>
                <div class="col-lg-3 text-center">
                    <span class="text-success h2 d-block">50+</span>
                    <span class="body-font">موظف</span>
                    <img alt="img" width="30" height="30" src="{% static 'images/employees.png' %}"/>

                </div>
                <div class="col-lg-3 text-center">
                    <span class="text-danger h2 d-block">2000+</span>
                    <span class="body-font">متابع</span>
                    <img alt="img" width="30" height="30" src="{% static 'images/follower.png' %}"/>
                </div>
            </div>

        </div>
    </div>





    <div class="site-section bg-home">
        <div class="container">
            <div class="row justify-content-center text-center mb-5 section-2-title">
                <div class="col-md-6">
                    <span class="text-cursive h5 text-red body-font">شركاؤنا</span>
                    <h3 class="text-white text-center body-font text-black">أهدافنا و طموحاتنا ان يصل الخير لمستحقيه</h3>
                </div>
            </div>
            <div class="row align-items-stretch">

                <div class="MultiCarousel" data-items="1,3,5,6" data-slide="1" id="MultiCarousel" data-interval="1000">
                    <div class="MultiCarousel-inner">
                        <div class="item">
                                <img src="{% static 'images/share1.png' %}" width="100" height="100"/>
                        </div>
                        <div class="item">
                                <img src="{% static 'images/share2.png' %}" width="100" height="100"/>

                        </div>
                        <div class="item">
                                <img src="{% static 'images/share3.png' %}" width="100" height="100"/>

                        </div>
                        <div class="item">
                                <img src="{% static 'images/share4.png' %}" width="100" height="100"/>

                        </div>

                    </div>
                    <button class="btn btn-teal rightLst"><</button>
                    <button class="btn btn-teal leftLst">></button>
                </div>


            </div>
        </div>
    </div>


{% endblock content %}


{% block javascript %}
    <script>
        $(document).ready(function () {
           var  user = sessionStorage.getItem('user_id');
                 console.log(user);
            $('.carousel').carousel({
                interval: 10000
            });
            var itemsMainDiv = ('.MultiCarousel');
            var itemsDiv = ('.MultiCarousel-inner');
            var itemWidth = "";

            $('.leftLst, .rightLst').click(function () {
                var condition = $(this).hasClass("leftLst");
                if (condition)
                    click(0, this);
                else
                    click(1, this)
            });

            ResCarouselSize();


            $(window).resize(function () {
                ResCarouselSize();
            });

            //this function define the size of the items
            function ResCarouselSize() {
                var incno = 0;
                var dataItems = ("data-items");
                var itemClass = ('.item');
                var id = 0;
                var btnParentSb = '';
                var itemsSplit = '';
                var sampwidth = $(itemsMainDiv).width();
                var bodyWidth = $('body').width();
                $(itemsDiv).each(function () {
                    id = id + 1;
                    var itemNumbers = $(this).find(itemClass).length;
                    btnParentSb = $(this).parent().attr(dataItems);
                    itemsSplit = btnParentSb.split(',');
                    $(this).parent().attr("id", "MultiCarousel" + id);


                    if (bodyWidth >= 1200) {
                        incno = itemsSplit[3];
                        itemWidth = sampwidth / incno;
                    } else if (bodyWidth >= 992) {
                        incno = itemsSplit[2];
                        itemWidth = sampwidth / incno;
                    } else if (bodyWidth >= 768) {
                        incno = itemsSplit[1];
                        itemWidth = sampwidth / incno;
                    } else {
                        incno = itemsSplit[0];
                        itemWidth = sampwidth / incno;
                    }
                    $(this).css({'transform': 'translateX(0px)', 'width': itemWidth * itemNumbers});
                    $(this).find(itemClass).each(function () {
                        $(this).outerWidth(itemWidth);
                    });

                    $(".leftLst").addClass("over");
                    $(".rightLst").removeClass("over");

                });
            }


            //this function used to move the items
            function ResCarousel(e, el, s) {
                var leftBtn = ('.leftLst');
                var rightBtn = ('.rightLst');
                var translateXval = '';
                var divStyle = $(el + ' ' + itemsDiv).css('transform');
                var values = divStyle.match(/-?[\d\.]+/g);
                var xds = Math.abs(values[4]);
                if (e == 0) {
                    translateXval = parseInt(xds) - parseInt(itemWidth * s);
                    $(el + ' ' + rightBtn).removeClass("over");

                    if (translateXval <= itemWidth / 2) {
                        translateXval = 0;
                        $(el + ' ' + leftBtn).addClass("over");
                    }
                } else if (e == 1) {
                    var itemsCondition = $(el).find(itemsDiv).width() - $(el).width();
                    translateXval = parseInt(xds) + parseInt(itemWidth * s);
                    $(el + ' ' + leftBtn).removeClass("over");

                    if (translateXval >= itemsCondition - itemWidth / 2) {
                        translateXval = itemsCondition;
                        $(el + ' ' + rightBtn).addClass("over");
                    }
                }
                $(el + ' ' + itemsDiv).css('transform', 'translateX(' + -translateXval + 'px)');
            }

            //It is used to get some elements from btn
            function click(ell, ee) {
                var Parent = "#" + $(ee).parent().attr("id");
                var slide = $(Parent).attr("data-slide");
                ResCarousel(ell, Parent, slide);
            }

        });
    </script>
{% endblock javascript %}